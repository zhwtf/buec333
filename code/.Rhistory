install.packages("swirl")
require("swirl")
swirl()
swirl()
require(swirl)
swirl()
q
swirl()
require(mass)
require(MASS)
df <- data(iris)
df
x <- rnorm(10)
mean(x)
require(readr)
school_data <- read_csv("testscores_california_1999.csv")
require(dplyr)
summary(school_df)
school_df <- read_csv("testscores_california_1999.csv")
summary(school_df)
# Load the project STAR data
require(readr)
school_df <- read_csv("testscores_california_1999.csv")
# What does the data look like?
summary(school_df)
# The number of students per teacher
#   is the class size
school_df %>% mutate(class_size = enrl_tot / teacher)
school_df %>% mutate(class_size = enrl_tot / teachers)
require(ggplot2)
qplot(data=school_df,class_size)
school_df <- mutate(school_df, class_size = enrl_tot / teachers)
require(ggplot2)
qplot(data=school_df,class_size)
small_df <- filter(school_df,class_size<20)
large_df <- filter(school_df,class_size>=20)
mean(small_df$testscr)
var(small_df$testscr)
mean(large_df$testscr)
var(large_df$testscr)
count(small_df)
nrows(small_df)
X_bar_small + sqrt(s2_small/n_small)*c(1,-1)
X_bar_small <- mean(small_df$testscr)
s2_small <- var(small_df$testscr)
n_small <- count(small_df)
# A 95% confidence interval for mu
X_bar_small + sqrt(s2_small/n_small)*c(1,-1)
length(small_df)
str(small_df)
n_small <- nrows(small_df)
n_small <- nrow(small_df)
X_bar_small + sqrt(s2_small/n_small)*c(1,-1)
X_bar_small + sqrt(s2_small/n_small)*c(-1,1)
X_bar_large <- mean(large_df$testscr)
s2_large <- var(large_df$testscr)
n_large <- nrow(large_df)
X_bar_large + sqrt(s2_large/n_large)*c(-1,1)
DX_bar + sqrt(Ds2) * c(-1.96,1.96)
DX_bar <- X_bar_small - X_bar_large
Ds2 <- s2_small / n_small - s2_large / n_large
DX_bar + sqrt(Ds2) * c(-1.96,1.96)
DX_bar <- X_bar_small - X_bar_large
Ds2 <- s2_small / n_small - s2_large / n_large
Ds2
Ds2 <- s2_small / n_small + s2_large / n_large
DX_bar + sqrt(Ds2) * c(-1.96,1.96)
cbind(colMeans(df_large),colMeans(df_small))
cbind(colMeans(large_df),colMeans(small_df))
source('~/.active-rstudio-document', echo=TRUE)
large_df
vars <- c("comp_stu", "expn_stu", "avginc", "el_pct")
cbind(colMeans(large_df[,vars]),
colMeans(small_df[,vars]))
source('C:/Users/Chris Muris/Dropbox/teaching/buec333-code/week3-STAR.R', echo=TRUE)
source('C:/Users/Chris Muris/Dropbox/teaching/buec333-code/week3-STAR.R', echo=TRUE)
source('C:/Users/Chris Muris/Dropbox/teaching/buec333-code/week3-STAR.R', echo=TRUE)
source('C:/Users/Chris Muris/Dropbox/teaching/buec333-code/week3-STAR.R', echo=TRUE)
source('C:/Users/Chris Muris/Dropbox/teaching/buec333-code/week3-STAR.R', echo=TRUE)
require(dplyr)
source('C:/Users/Chris Muris/Dropbox/teaching/buec333-code/week3-STAR.R', echo=TRUE)
?dnorm
tact <- DX_bar / sqrt(Ds2)
source('C:/Users/Chris Muris/Dropbox/teaching/buec333-code/week3-STAR.R', echo=TRUE)
cutoff <- 20
cutoff <- 20
require(readr)
school_df <- read_csv("testscores_california_1999.csv")
school_df
summary(school_df)
require(dplyr)
school_df <- mutate(school_df, class_size = enrl_tot / teachers)
summary(school_df)
require(ggplot2)
qplot(data=school_df,class_size)
small_df <- filter(school_df,class_size<cutoff)
large_df <- filter(school_df,class_size>=cutoff)
small_df$testscr
mean(small_df$testscr)
X_bar_small <- mean(small_df$testscr)
X_bar_small
s2_small <- var(small_df$testscr)
n_small <- nrow(small_df)
X_bar_small + sqrt(s2_small/n_small)*c(-1,1)
X_bar_small + sqrt(s2_small/n_small)*c(-1.96,1.96)
X_bar_large <- mean(large_df$testscr)
s2_large <- var(large_df$testscr)
n_large <- nrow(large_df)
#    for the schools with small classes
X_bar_small <- mean(small_df$testscr)
s2_small <- var(small_df$testscr)
n_small <- nrow(small_df)
# A 95% confidence interval for mu
X_bar_small + sqrt(s2_small/n_small)*c(-1.96,1.96)
# For the large classes
X_bar_large <- mean(large_df$testscr)
s2_large <- var(large_df$testscr)
n_large <- nrow(large_df)
X_bar_large + sqrt(s2_large/n_large)*c(-1.96,1.96)
DX_bar <- X_bar_small - X_bar_large
DX_bar
Ds2 <- s2_small / n_small + s2_large / n_large
Ds2 <- s2_small / n_small + s2_large / n_large
Ds2
# Use (3.19)
DX_bar + sqrt(Ds2) * c(-1.96,1.96)
tact <- DX_bar / sqrt(Ds2) # t-value
2*pnorm(-abs(tact)) #pnorm ~ Table 1 on page 757.
vars <- c("comp_stu", "expn_stu", "avginc", "el_pct")
cbind(colMeans(small_df[,vars]),
colMeans(large_df[,vars]))
source('C:/Users/Chris Muris/Dropbox/teaching/buec333-code/week3-STAR.R', echo=TRUE)
c(2,3,4)
DX_bar + sqrt(Ds2) * -1.96
DX_bar + sqrt(Ds2) * 1.96
